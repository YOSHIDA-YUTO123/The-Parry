//===================================================
//
// スローモーション [slow.cpp]
// Author:YUTO YOSHIDA
//
//===================================================

//***************************************************
// インクルードファイル
//***************************************************
#include "slow.h"

//===================================================
// コンストラクタ
//===================================================
CSlow::CSlow()
{
	m_fLevel = 1.0f;
	m_nCount = -1;
	m_nTime = NULL;
}

//===================================================
// デストラクタ
//===================================================
CSlow::~CSlow()
{
}

//===================================================
// 更新処理
//===================================================
void CSlow::Update(void)
{
	// 割合を求める
	float fRate = m_nCount / (float)m_nTime;

	if (m_nCount >= 0)
	{
		m_nCount--;
		//m_fLevel = 1.0f - fRate;
	}
	else
	{
		m_fLevel = 1.0f; // もとに戻す
	}
}

//===================================================
// スローモーションの開始
//===================================================
void CSlow::Start(const int nTime, const float fLevel)
{
	m_nCount = nTime;
	m_nTime = nTime;

	m_fLevel = fLevel;
}

//===================================================
// スローモーションの強制終了
//===================================================
void CSlow::End(void)
{
	m_nCount = -1;
}
